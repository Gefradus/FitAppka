@model FitAppka.Models.ProductDTO
<html lang="en">
<head>
    <link href="~/css/AllViews.css" rel="stylesheet" />
    <link href="~/css/Home.css" rel="stylesheet" />
    <link href="~/css/CreateProduct.css" rel="stylesheet" />
    <link href="~/css/AdminEditProduct.css" rel="stylesheet" />
    <script src="~/js/CreateProduct.js"></script>
    <script src="~/js/Validation.js"></script>
</head>

<body>
    <div class="container">
        <div class="row cent" style="height: 100%; margin-top: -5px">
            <div class="col-9 col-sm-8 col-lg-7 col-xl-6" style="padding-top: 30px; background: white">
                <form enctype="multipart/form-data" method="post">
                    <div style="color: red; text-align: center; font-weight: 200; margin-bottom: 20px">
                        Edycja produktu nie zmienia informacji o posiłkach przypisanych do klientów.
                    </div>
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group" style="border-bottom: 1px solid #cacaca; padding-bottom: 20px">
                        <label class="control-label">Nazwa produktu</label>
                        @Html.TextBoxFor(m => m.ProductName, new { @class = "form-control" })
                        <span asp-validation-for="ProductName" class="text-danger" placeholder="Nazwa produktu"></span>
                    </div>
                    <div class="naglowek">
                        Wartość odżywcza w 100g:
                    </div>
                    <div class="form-group cent">
                        <div class="leftCol">
                            <label class="control-label">Kalorie</label>
                            <div style="display: flex;">
                                @Html.TextBoxFor(m => m.Calories, new { @class = "form-control int", @type = "number", @min = "0", @max = "9000" })
                                <div class="jednostka" style="margin-right: -5px;">kcal</div>
                            </div>
                            <span asp-validation-for="Calories" class="text-danger"></span>
                        </div>
                        <div class="rightCol">
                            <label class="control-label">Białko</label>
                            <div style="display: flex;">
                                @Html.TextBoxFor(m => m.Proteins, new { @class = "form-control num macro" })
                                <div class="jednostka">g</div>
                            </div>
                            <span asp-validation-for="Proteins" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group cent">
                        <div class="leftCol">
                            <label class="control-label">Tłuszcze</label>
                            <div id="tluInDiv" style="display: flex">
                                @Html.TextBoxFor(m => m.Fats, new { @class = "form-control num macro" })
                                <div class="jednostka">g</div>
                            </div>
                            <span asp-validation-for="Fats" class="text-danger"></span>
                        </div>
                        <div class="rightCol">
                            <label class="control-label">Węglowodany</label>
                            <div style="display: flex">
                                @Html.TextBoxFor(m => m.Carbohydrates, new { @class = "form-control num macro" })
                                <div class="jednostka">g</div>
                            </div>
                            <span asp-validation-for="Carbohydrates" class="text-danger"></span>
                        </div>
                    </div>
                    <div id="moreInfoBtn" class="mb-4" onclick="moreInfo();">
                        <img id="imgDown" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Arrow-down.svg/200px-Arrow-down.svg.png" />
                        <div>Więcej informacji o produkcie</div>
                    </div>
                    <div id="moreInfoDiv" hidden>
                        <div class="naglowek">Witaminy w 100g:</div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Witamina A</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminA, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="VitaminA" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Witamina B1</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminB1, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminB1" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Witamina B2</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminB2, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminB2" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Witamina B5</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminB5, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminB5" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Witamina B6</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminB6, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminB6" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Biotyna</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Biotin, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="Biotin" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Kwas foliowy</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.FolicAcid, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="FolicAcid" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Witamina B12</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminB12, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="VitaminB12" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Witamina C</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminC, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminC" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Witamina D</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminD, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="VitaminD" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Witamina E</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminE, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminE" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Witamina PP</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.VitaminPp, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="VitaminPp" class="text-danger"></span>
                            </div>
                        </div>
                        <div style="margin-bottom: 2rem">
                            <div class="leftCol" style="margin-right: 0 !important">
                                <label class="control-label">Witamina K</label>
                                <div style="display: flex; margin-right: 10px">
                                    @Html.TextBoxFor(m => m.VitaminK, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="VitaminK" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="naglowek" style="padding-top: 15px; border-top: 1px solid #cacaca">Składniki mineralne w 100g:</div>

                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Cynk</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Zinc, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Zinc" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Fosfor</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Phosphorus, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Phosphorus" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Jod</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Iodine, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="Iodine" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Magnez</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Magnesium, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Magnesium" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Miedź</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Copper, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Copper" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Potas</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Potassium, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Potassium" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Selen</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Selenium, new { @class = "form-control num micro" })
                                    <div class="jednostka">µg</div>
                                </div>
                                <span asp-validation-for="Selenium" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Sód</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Sodium, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Sodium" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group cent">
                            <div class="leftCol">
                                <label class="control-label">Wapń</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Calcium, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Calcium" class="text-danger"></span>
                            </div>
                            <div class="rightCol">
                                <label class="control-label">Żelazo</label>
                                <div style="display: flex">
                                    @Html.TextBoxFor(m => m.Iron, new { @class = "form-control num micro" })
                                    <div class="jednostka">mg</div>
                                </div>
                                <span asp-validation-for="Iron" class="text-danger"></span>
                            </div>
                        </div>

                    </div>
                    <div id="edytujZdjecie" class="form-group" hidden>
                        <div class="naglowek" style="margin-bottom: 10px">Zdjęcie produktu</div>
                        <div style="margin-bottom: 15px; padding-top: 15px; border-top: 1px solid #cacaca">
                            @{
                                string photoPath = "~/photos/" + ViewData["path"];
                                <img style="height: 100px; width: 100px; border: 1px dashed #6b6b6b; margin-bottom: 10px" src="@photoPath" class="img-fluid" asp-append-version="true" />
                            }
                        </div>
                        <label class="control-label">Edytuj zdjęcie produktu</label>
                        <div class="custom-file" id="photoLoad">
                            <input asp-for="Photo" type='file' class="form-control custom-file-input" formenctype="multipart/form-data" />
                            <label class="custom-file-label" style="overflow: hidden">Wybierz plik...</label>
                        </div>
                    </div>
                    <div id="dodajZdjecie" class="form-group" hidden>
                        <label class="control-label">Dodaj zdjęcie produktu</label>
                        <div class="custom-file" id="photoLoad">
                            <input asp-for="Photo" type='file' class="form-control custom-file-input" formenctype="multipart/form-data" />
                            <label class="custom-file-label" style="overflow: hidden">Wybierz plik...</label>
                        </div>
                    </div>


                    @section Scripts {
                        <script>
                            $(document).ready(function () {
                                $('.custom-file-input').on("change", function () {
                                    var fileName = $(this).val().split("\\").pop();
                                    $(this).next('.custom-file-label').html(fileName);
                                });
                            });

                            if ('@ViewData["addOrEdit"]' == 0) {
                                document.getElementById("dodajZdjecie").hidden = false;
                            }
                            else {
                                document.getElementById("edytujZdjecie").hidden = false;
                            }
                        </script>
                    }

                    @Html.HiddenFor(m => m.ProductId, new { @name = "id"})
                    <div class="form-group cent mt-5">
                        <input type="submit" value="Zapisz produkt" class="btn btn-primary" style="width: 50%; height: 40px" asp-route-addOrEditPhoto="@ViewData["addOrEdit"]" />
                    </div>

                    <div class="form-group cent" style="margin-top: 35px; margin-bottom: 2rem">
                        <a asp-action="AdminProduct">
                            Powrót do przeglądania produktów
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script>micronutritionsValidation();</script>
</body>
</html>