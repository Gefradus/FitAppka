@model IEnumerable<FitAppka.Models.CardioTraining>
<html lang="pl">

<head>
    <link rel="stylesheet" href="~/css/Home.css" type="text/css">
    <link href="~/css/AllViews.css" rel="stylesheet" />
    <link href="~/css/TrainingPanel.css" rel="stylesheet" />
    <link href="~/css/AddTraining.css" rel="stylesheet" />
    <link href="~/css/Datepicker.css" rel="stylesheet" />
    <link href="~/lib/jquery-ui-1.12.1/jquery-ui.css" rel="stylesheet" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/Validation.js"></script>
    <script src="~/js/ShowNavbar.js"></script>
</head>
<body onload="colorEverySecondRow();">


    <div id="cont" class="container" style="margin-top: 1rem !important">

        <div class="modal fade" tabindex="-1" id="deleteModal" data-keyboard="false" style="margin-top: 100px; padding-left: 15px">
            <div class="modal-dialog" style="display: flex; justify-content: center;">
                <div class="modal-content">
                    <div class="modal-header" style="height: 20px">
                        <button type="button" class="close" data-dismiss="modal" style="margin-top: -30px">×</button>
                    </div>
                    <div class="modal-body">
                        <div style="margin-top: -10px;">
                            <label>Czy na pewno chcesz usunąć trening</label><label id="deletingTrainingName"></label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div id="formDeleteCardio" hidden>
                            <div style="display:flex; justify-content: center">
                                <button type="button" data-dismiss="modal" class="cancelDeleteBtn">Anuluj</button>
                                <button type="button" id="delete" onclick="deleteCardio('@Url.Action("Cardio", "Training")')">Tak, usuń</button>
                                <div id="deletingCardioID" hidden></div>
                            </div>
                        </div>
                        <div id="formDeleteStrength" hidden>
                            <div style="display:flex; justify-content: center">
                                <button type="button" data-dismiss="modal" class="cancelDeleteBtn">Anuluj</button>
                                <button type="button" id="delete" onclick="deleteStrengthTraining('@Url.Action("StrengthTraining", "Training")')">Tak, usuń</button>
                                <div id="deletingStrengthTrainingID" hidden></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" tabindex="-1" id="editCardioModal" data-keyboard="false" style="margin-top: 100px; padding-left: 15px">
            <div class="modal-dialog" style="display: flex; justify-content: center;">
                <div class="modal-content">
                    <div class="modal-header" style="height: 20px">
                        <button type="button" class="close" data-dismiss="modal" style="margin-top: -30px">×</button>
                    </div>
                    <div class="modal-body">
                        <div id="cardioName"></div>
                        <div id="time">
                            <div>Czas trwania:</div>
                            <input id="timeInMinutes" type="number" max="99999" name="timeInMinutes" class="int" oninput="validity.valid || (value = ''); changeCalorie()">
                            <div style="font-size: 13px; margin-top: 5px; font-weight: 600">min.</div>
                        </div>
                        <div id="kcal" class="param">
                            <div>Spalone kalorie:</div>
                            <input id="burnedKcal" type="number" max="9999999" name="burnedKcal" class="int"/>
                            <div style="font-size: 13px; margin-top: 5px; font-weight: 600">kcal</div>
                        </div>
                        <div id="saveCardio" class="cent cb">
                            <button type="button" onclick="editCardio('@Url.Action("Cardio", "Training")')" class="btn btn-dark" id="editCardio">Zapisz zmiany</button>
                        </div>
                        <div id="editingCardioID" hidden></div>
                        <div id="kcalPerMin" hidden></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" tabindex="-1" id="editStrengthModal" data-keyboard="false" style="margin-top: 100px; padding-left: 15px">
            <div class="modal-dialog" style="display: flex; justify-content: center;">
                <div class="modal-content">
                    <div class="modal-header" style="height: 20px">
                        <button type="button" class="close" data-dismiss="modal" style="margin-top: -30px">×</button>
                    </div>
                    <div class="modal-body">
                        <div id="strengthName"></div>
                        <div id="setsArea">
                            <div class="acent">
                                <div>Serie:</div><div class="star">*</div>
                            </div>
                            <input class="cb int int1" id="sets" type="number" name="sets" min="1" max="999999" step="1">
                        </div>
                        <div id="repsArea" class="param">
                            <div class="acent">
                                <div>Powtórzenia:</div><div class="star">*</div>
                            </div>
                            <input class="cb int int1" id="reps" type="number" name="reps" max="999999" />
                        </div>
                        <div id="weightArea" class="param">
                            <div>Ciężar:</div>
                            <input id="weight" type="number" max="999999" name="weight" class="int int1" />
                            <div style="font-size: 13px; margin-top: 5px; font-weight: 600">kg.</div>
                        </div>
                        <div id="saveStrength" class="cent cb">
                            <button type="button" onclick="editStrengthTraining('@Url.Action("StrengthTraining", "Training")')" class="btn btn-dark" id="editStrengthTraining">Zapisz zmiany</button>
                        </div>
                        <div id="editingStrengthTrainingID" hidden></div>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: flex; margin-bottom: 12px">
            <div id="diary">Dziennik treningowy dla: </div>
            <input id="datepicker" onchange="changeDay('@Url.Action("ChangeDay", "Training")');" type="text" style="margin-left: 10px; margin-right: 15px; margin-top: 2px; text-align: center" value="@ViewData["day"]" readonly="readonly" />
        </div>

        <div style="display: flex">
            <div class="trainTypeHeader">Treningi cardio:</div>
            <a class="btn acent" id="btnAddCardio" asp-controller="Training" asp-action="Cardio" asp-route-dayID="@ViewData["dayID"]">Dodaj trening cardio</a>
        </div>

        <div id="all">
            <div class="row no-gutters headCol" style="height: 41px; color:white; background: rgba(0, 0, 0, 0.35);">
                <div class="col-5 cent" style="border-left: 0">Nazwa treningu:</div>
                <div class="col-7 container">
                    <div class="row no-gutters" style="height: 100%">
                        <div class="column headCol cent">Czas w minutach:</div>
                        <div class="column headCol cent">Spalone kcal:</div>
                        <div class="btnArea borl"></div>
                    </div>
                </div>
            </div>

        </div>

        @{
            int cardioCount = 0;
            foreach (var training in Model)
            {
                if (training.Day.DayId.Equals(ViewData["dayID"]))
                {
                    <div class="row no-gutters trainingRow">
                        <div class="col-5 cent trainingName" onclick="showEditCardioModal(@training.CardioTrainingId,@training.TimeInMinutes,@training.CaloriesBurned,'@training.CardioTrainingType.TrainingName','@training.CardioTrainingType.KcalPerMin')">
                            @training.CardioTrainingType.TrainingName
                        </div>
                        <div class="col-7 container">
                            <div class="row no-gutters">
                                <div class="cent column borl">@training.TimeInMinutes</div>
                                <div class="cent column borl">@training.CaloriesBurned</div>
                                <div class="cent btnArea borl">
                                    <button id="btnDelete" type="button" onclick="showDeleteCardioModal(@training.CardioTrainingId, '@training.CardioTrainingType.TrainingName');"><img class="cancel" src="https://cdn.onlinewebfonts.com/svg/img_416864.png"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    cardioCount++;
                }
            }

            if (cardioCount == 0)
            {
                <div class="col-12 cent py-4" style="font-size: 18px; background: rgba(247, 247, 247, 0.7)">
                    Aktualnie brak treningów cardio w tym dniu
                </div>
                <script>
                    $("#all").css('border', '0px');
                </script>

            }
        }


        <div class="row no-gutters">
            <div class="col-12" style="border-top: 1px dotted #656565"></div>
        </div>

        <div class="row no-gutters goalRow" style="border-top:0; font-weight: 600">
            <div class="col-5 cent col py-1" style="border-left: 0">Łącznie:</div>
            <div class="col-7 container">
                <div class="row no-gutters">
                    <div class="col py-1 column">
                        @ViewData["cardioTime"]
                    </div>
                    <div class="col py-1 column">
                        @ViewData["burnedKcal"]
                    </div>
                    <div class="col btnArea">

                    </div>
                </div>
            </div>
        </div>

        <div class="row no-gutters goalRow" style="border-top:0; font-weight: 600; margin-bottom: 1.5rem">
            <div class="col-5 cent col py-1" style="border-left: 0">Dzienne cele:</div>
            <div class="col-7 container">
                <div class="row no-gutters" style="height: 100%">
                    <div class="col py-1 column">
                        @ViewData["timeTarget"]
                    </div>
                    <div class="col py-1 column">
                        @ViewData["kcalTarget"]
                    </div>
                    <div class="col btnArea">

                    </div>
                </div>
            </div>
        </div>


        <div style="display: flex">
            <div class="trainTypeHeader">Treningi siłowe:</div>
            <a class="btn acent" id="btnAddStrength" asp-controller="Training" asp-action="StrengthTraining" asp-route-dayID="@ViewData["dayID"]">Dodaj trening siłowy</a>
        </div>

        <div id="all">
            <div class="row no-gutters headCol" style="height: 41px; color:white; background: rgba(0, 0, 0, 0.35)">
                <div class="col-5 cent" style="border-left: 0">Nazwa treningu:</div>
                <div class="col-7 container">
                    <div class="row no-gutters" style="height: 100%">
                        <div class="sHeadCol cent">Serie:</div>
                        <div class="sHeadCol cent">Powtórzenia:</div>
                        <div class="sHeadCol cent">Ciężar:</div>
                        <div class="btnArea borl"></div>
                    </div>
                </div>
            </div>
        </div>


        @{
            int trainingCount = 0;
            foreach (var training in (List<FitAppka.Models.StrengthTraining>)ViewData["strengthTrainings"])
            {
                if (training.Day.DayId.Equals(ViewData["dayID"]))
                {
                    <div class="row no-gutters trainingRow">
                        <div class="col-5 cent trainingName" onclick="showEditStrengthModal(@training.StrengthTrainingId, @training.Sets, @training.Repetitions, @training.Weight, '@training.StrengthTrainingType.TrainingName')">
                            @training.StrengthTrainingType.TrainingName
                        </div>
                        <div class="col-7 container">
                            <div class="row no-gutters">
                                <div class="cent sHeadCol borl">@training.Sets</div>
                                <div class="cent sHeadCol borl">@training.Repetitions</div>
                                <div class="cent sHeadCol borl">@training.Weight</div>
                                <div class="cent btnArea borl">
                                    <button id="btnDelete" type="button" onclick="showDeleteStrengthModal(@training.StrengthTrainingId, '@training.StrengthTrainingType.TrainingName');">
                                        <img class="cancel" src="https://cdn.onlinewebfonts.com/svg/img_416864.png">
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    trainingCount++;
                }
            }

            if (trainingCount == 0)
            {
                <div class="col-12 cent py-4" style="font-size: 18px; background: rgba(247, 247, 247, 0.7)">
                    Aktualnie brak treningów siłowych w tym dniu
                </div>
                <script>
                    $("#all").css('border', '0px');
                </script>
            }
        }

    </div>

    <script src="~/lib/jquery-ui-1.12.1/jquery-ui.js"></script>
    <script>
        var $j = jQuery.noConflict();
        $j("#datepicker").datepicker({
            minDate: new Date(1900, 0, 0),
            dateFormat: 'dd.mm.yy',
            monthNames: ["Styczeń", "Luty", "Marzec", "Kwiecień",
                "Maj", "Czerwiec", "Lipiec", "Sierpień", "Wrzesień",
                "Październik", "Listopad", "Grudzień"],
            monthNamesShort: ["Sty", "Lut", "Mar", "Kwi",
                "Maj", "Cze", "Lip", "Sie", "Wrz",
                "Paź", "Lis", "Gru"],
            dayNames: ['Niedziela', 'Poniedziałek', 'Wtorek', 'Środa', 'Czwartek', 'Piątek', 'Sobota'],
            dayNamesShort: ['Ndz', 'Pon', 'Wto', 'Śro', 'Czw', 'Pt', 'Sob'],
            dayNamesMin: ['Nd', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'Sb'],
            changeYear: true,
            changeMonth: true
        });
    </script>
    <script src="~/js/Validation.js"></script>
    <script src="~/js/TrainingValidation.js"></script>
    <script src="~/js/TrainingPanel.js"></script>
    <script>setInputsValidation();</script>
</body>
</html>