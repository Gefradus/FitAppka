@model IEnumerable<FitAppka.Models.Product>

<head>
    <link href="~/css/Home.css" rel="stylesheet" />
    <link href="~/css/AllViews.css" rel="stylesheet" />
    <link href="~/css/SearchProduct.css" rel="stylesheet" />
    <script src="~/js/Validation.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/SearchProduct.js"></script>
</head>

<body onload="kolorujDrugiWiersz();">

    <div class="container" style="padding-top: 170px">
        <div class="modal fade" tabindex="-1" id="addModal" data-keyboard="false" style="margin-top: 170px">
            <div class="modal-dialog" style="display: flex; justify-content: center">
                <div class="modal-content" style="width: 300px;">
                    <div class="modal-header" style="height: 25px">
                        <button type="button" style="margin-top: -30px" class="close" data-dismiss="modal">×</button>
                    </div>

                    <div class="modal-body">
                        <div class="container">
                            <div class="row no-gutters" style="height: 100px">
                                <div id="photoArea" class="col-6"></div>
                                <div class="col-6">
                                    <div class="container" style="margin-left: -50px; margin-top: -14px; width: 215px">
                                        <div id="name" class="row no-gutters cent"></div>
                                        <div id="kcal" class="row no-gutters cent"></div>
                                        <div class="row no-gutters cent" style="width: 170px; font-size: 13px; margin-left: 7px">
                                            <div id="proteins"></div>
                                            <div id="fats"></div>
                                            <div id="wegle"></div>
                                        </div>
                                        <div class="row no-gutters cent" style="font-size: 13px; font-weight: 600">/100g</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row no-gutters cent" style="margin-top: 10px">
                                <div>Ile dodać?</div>
                            </div>
                            <div class="row no-gutters cent" style="margin-top: 10px;">
                                <input id="grammage" type="number" min="1" max="9999" style="width: 60px; margin-right: 3px; text-align:center" /><div style="font-weight: 600; margin-top: 2px">g</div>
                                <button id="addProduct" style="margin-left: 5px; background: none; border:none"><img style="height:30px; width: 30px" src="~/img/add.png"></button>
                                @Html.Hidden("RedirectTo", Url.Action("Return", "Home", new { dayID = ViewData["dayID"] }))
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @if (Model.Count() != 0)
        {
            <div id="wierszNaglowkow" class="row no-gutters mb-3">
                <div class="col-4" style="text-align:left">
                    <div class="container">
                        <div class="row no-gutters">
                            <div class="d-none d-md-inline-block col-md-5 col-lg-6">
                                Zdjęcie<br />
                                produktu
                            </div>
                            <div id="naproHeader" class="col-12 col-md-7 col-lg-6">
                                Nazwa<br />
                                produktu
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-7">
                    <div class="container">
                        <div class="row no-gutters">
                            <div class="col-3">
                                <div>Kcal<br />/100g</div>
                            </div>
                            <div class="col-3">
                                <div>Białko<br />/100g</div>
                            </div>
                            <div class="col-3">
                                <div>Tł.<br />/100g</div>
                            </div>
                            <div class="col-3">
                                <div>Węgl.<br />/100g</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-top: -16px">
                @foreach (var item in Model)
                {
                    <div id="wierszeTabeli" class="row no-gutters wieeersz">
                        <div class="col-4" style="display: flex; align-items: center">
                            <div class="container" style="padding-left: 0px">
                                <div class="row no-gutters">
                                    <div class="d-none d-md-inline-block col-md-5 col-lg-6">
                                        @{ string photoPath;
                                            if (item.PhotoPath != null)
                                            {
                                                photoPath = "~/photos/" + (item.PhotoPath);
                                                <script>pathArray.push('@item.PhotoPath');</script>
                                            }
                                            else
                                            {
                                                photoPath = "~/img/miss.png";
                                                <script>pathArray.push('null');</script>
                                            }
                                            <script>
                                                IDarray.push('@item.ProductId');
                                                nameArray.push('@item.ProductName');
                                                kcalArray.push('@item.Calories');
                                                proteinsArray.push('@item.Proteins');
                                                fatsArray.push('@item.Fats');
                                                carbsArray.push('@item.Carbohydrates');
                                            </script>
                                        }
                                        <img src="@photoPath" class="img-fluid" id="obrazek" asp-append-version="true" />
                                    </div>
                                    <div class="col-12 col-md-7 col-lg-6" id="nazwaProduktu">
                                        @Html.DisplayFor(i => item.ProductName)
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-7 marauto">
                            <div class="container">
                                <div class="row no-gutters">
                                    <div class="col-3">@Html.DisplayFor(i => item.Calories)kcal</div>
                                    <div class="col-3">@Html.DisplayFor(i => item.Proteins)g</div>
                                    <div class="col-3">@Html.DisplayFor(i => item.Fats)g</div>
                                    <div class="col-3">@Html.DisplayFor(i => item.Carbohydrates)g</div>
                                </div>
                            </div>
                        </div>
                        <div id="panelPrzyciskow" class="col-1">
                            <div>
                                <button class="przycisk" style="background: none; border: none;" onclick="addProduct(@item.ProductId)"><img style="height:30px; width: 30px" src="~/img/add.png"></button>
                            </div>
                            <div class="cb"></div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            if ((bool)ViewData["wereSearched"])
            {
                <div style="display: flex; justify-content: center; margin-top: 25px">
                    Nie znaleziono produktów o podanej nazwie
                </div>
            }
        }
    </div>
</body>
